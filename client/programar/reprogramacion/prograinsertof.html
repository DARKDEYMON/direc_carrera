<Template name="programarof">
    <div class="grid-sis">
    <div></div>
    <div>
            
                  
        <h1>Gestion</h1>
        <form class="form-group gest" data-required="true" method="">     
            <div class="form-group" data-required="true">
                <label class="control-label">Gestion</label>
                <input type="text" required class="form-control gestion" name ="gestion" value="{{ getInitYear }}" autocomplete="off"  placeholder="Gestion">
                <label class="control-label">Periodo</label>
                <input type="text" required class="form-control periodo" name="periodo" value="1" autocomplete="off" placeholder="Periodo">
                <label class="control-label">Clave de Certificado</label>
                <input type="text" required class="form-control certf" name="certf" autocomplete="off" placeholder="Clave de Certificado">
            </div>
            <button type="submit" class="btn btn-primary">Insert</button>
        </form>
        
        {{!--
            {{#if getCertfValid }}
                {{ getCertfValid }}
                {{#if gestionb }}
                    {{ gestionb }}
                    
                {{else}}
                    <p>1 {{ gestionb }}</p>
                {{/if}}
            {{else}}
                <p>2</p>
            {{/if}}
            <p>{{ getCertfValid }} + {{ gestionb }}</p>
        --}}
        
        {{#if getCertfValid }}
            <h1>Programar</h1>
            {{#autoForm collection="progra" id="insertProgramarForm33" type="insert" }}
                {{#if afFieldIsInvalid name='alumno_id'}}
                    <span class="help-block"> Error {{afFieldMessage name='alumno_id'}}</span>
                {{/if}}
                {{> afQuickField name='alumno_id' value=idAlumno type="hidden"}}
                {{> afQuickField name='gestion_id' value=gestion type="hidden"}} 
                {{> afQuickField name='periodo_id' value=periodo type="hidden"}}

                {{> afQuickField name='materias_id' options=getOptions }}
                {{> afQuickField name='id_grupo' options=getOptionGroups }}
                {{> afQuickField name='metodo_programacion' value=idTipoProgramacion type="hidden"}}
                
                <button type="submit" class="btn btn-primary">Insert</button>
            {{/autoForm}}
            
            {{> programarofof }}
        {{/if}}
        {{#if getCertInvalidMessage}}
            <p>Certificado erroneo</p>
        {{/if}}
    </div>
    <div></div>
    </div>
    
</Template>